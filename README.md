
# README проекта

## Обзор

   Этот проект включает серверное приложение на Node.js и мобильное приложение, разработанное на Java. Сервер обрабатывает HTTP-запросы 
и взаимодействует с базой данных MySQL, поддерживая функциональность мобильного приложения. Мобильное приложение предоставляет пользователям 
инструменты для отслеживания калорий, планирования питания, мониторинга потребления воды и управления прогрессом здоровья.

## Структура проекта

### /project-root
- **/database**: Раздел для работы с базой данных
  - `personalte_gdatabase.sql`: SQL-скрипт для создания и наполнения базы данных MySQL
- **/mobile-app**: Мобильное приложение
  - **/source**: Исходный код мобильного приложения
    - `NutriPlanner-master`: Папка с исходниками на Java/Kotlin
  - `NutriPlanner.apk`: APK-файл, готовый для установки
- **/server**: Серверное приложение на Node.js
  - **/routes**: 
    - `routes.js`: Файл маршрутизации и API-эндпоинтов
    - `handlers.js`: Обработчики маршрутов
  - `app.js`: Основной файл серверного приложения
  - `package.json`: Конфигурация проекта Node.js
- `README.md`: Документация проекта
    

## Предварительные требования

Убедитесь, что у вас установлены следующие программы:

- **Node.js** (версия 16 или выше) – для запуска сервера.
- **MySQL** – для настройки и взаимодействия с базой данных.
- **Java Development Kit (JDK)** – для сборки и запуска мобильного приложения.
- **Android Studio** (опционально) – для разработки и тестирования мобильного приложения.

## Установка

### 1. Настройка базы данных

1. Импортируйте предоставленный SQL-скрипт в вашу базу данных MySQL:

   source /path/to/personalte_gdatabase.sql;


2. Убедитесь, что конфигурация базы данных в файле `app.js` соответствует данным для подключения к вашему серверу MySQL.

### 2. Запуск сервера Node.js

1. Перейдите в директорию `/server`:
   ```bash
   cd server
   ```

2. Установите необходимые пакеты Node.js:
   ```bash
   npm install
   npm install express body-parser mysql2 nodemailer
   ```

3. Настройте файл handlers.js для подключения к базе данных и SMTP-серверу. Замените значения на свои собственные:

   ```bash
   const pool = mysql.createPool({
      host: '127.0.0.1',
      port: 3306,
      user: 'your_db_user',
      password: 'your_db_password',
      database: 'your_database_name',
      waitForConnections: true,
      connectionLimit: 50,
      queueLimit: 0
   });

   const transporter = nodemailer.createTransport({
      host: 'smtp.your-email-provider.com',
      port: 465,
      secure: true,
      auth: {
         user: "your_email@example.com",
         pass: "your_email_password"
      }
   });
   ```
   
4. Запустите сервер:
   ```bash
   node app.js
   ```
   
   Сервер будет доступен по адресу `http://localhost:3000` или порту, указанному в `app.js`.

### 3. Установка и запуск мобильного приложения

1. В Android Studio откройте проект мобильного приложения.

2. В файле GetDateDate.java замените URL на адрес вашего сервера:

   ```bash
   URL url = new URL("https://your-server-url.com/currentDateTime");
   ```

3. В файле RetrofitInstance.java укажите базовый URL вашего сервера:

   ```bash
   private static final String BASE_URL = "https://your-server-url.com/nutriPlanner/";
   ```

   Примечание: Если ваш сервер не поддерживает SSL-сертификаты, измените протокол https на http в URL-адресах, указанных в пунктах 2 и 3.

4. Установите APK-файл на своем Android-устройстве, передав его на устройство и открыв, или используйте эмулятор для запуска приложения.

5. Откройте приложение и настройте профиль для начала отслеживания своего питания и здоровья.

## Функции мобильного приложения

- **Главный экран**: Показ калорийного баланса на день и прогресс-бары для белков, углеводов и жиров.
- **Календарный просмотр**: Переключение между днями и планирование питания на будущее.
- **Отслеживание питания**: Добавление приемов пищи в разделы "Завтрак," "Обед," "Ужин" и "Перекусы" с персонализированными рекомендациями по калориям.
- **Отслеживание потребления воды**: Быстрое добавление выпитой воды с помощью кнопок, которые визуально обновляют прогресс.
- **Поиск и списки**: Просмотр, добавление и настройка продуктов с помощью динамического поиска.
- **Детали продуктов**: Подробная информация о продуктах, включая калории, жиры, белки, углеводы и инструкции по приготовлению.
- **Отслеживание прогресса**: График изменений веса и поля для обновления роста и веса.

## Зависимости

### Сервер

- Express.js
- Nodemailer 
- Crypto 
- MySQL
- Другие необходимые пакеты Node.js (см. `package.json` в директории `/server`)

### Мобильное приложение

- Android SDK
- Java и Kotlin. Зависимости управляются внутри приложения через систему сборки (например, Gradle).


## Лицензия

Этот проект распространяется под лицензией [MIT](https://choosealicense.com/licenses/mit/).

